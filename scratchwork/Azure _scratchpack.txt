az vm list-skus --location westus --size Standard_D --all --output table
....
Standard_D1                      NotAvailableForSubscription
...
{"error":{"code":"InvalidTemplateDeployment","message":"The template deployment 'vm_deploy_17LAKV8P1NFHZVGIgtcWYOKUkac5Xqa1' is not valid according to the validation procedure. The tracking id is '5a51ee7e-f6c4-4c65-8b1f-48f7f6c97e95'. See inner errors for details.","details":[{"code":"SkuNotAvailable","message":"The requested VM size for resource 'Following SKUs have failed for Capacity Restrictions: Standard_B1s' is currently not available in location 'westus'. Please try another size or deploy to a different location or different zone. See https://aka.ms/azureskunotavailable for details."}]}}
(Need to restart browser and/or maybe wait 5 min after upgrading account).


SSH credentials:
"ssh ubuntu@20.66.15.44"
20.66.15.44 (az network public-ip list -g Exercise0 -o table)
ubuntu Test137!Azure

Error: That code didn't work. Check the code and try again. Oops it's a one time code.

# Group list:
[
  {
    "id": "/subscriptions/4e494799-323f-48fb-8868-ef7e06217146/resourceGroups/cloud-shell-storage-westus",
    "location": "westus",
    "managedBy": null,
    "name": "cloud-shell-storage-westus",
    "properties": {
      "provisioningState": "Succeeded"
    },
    "tags": null,
    "type": "Microsoft.Resources/resourceGroups"
  },
  {
    "id": "/subscriptions/4e494799-323f-48fb-8868-ef7e06217146/resourceGroups/Exercise0",
    "location": "westus",
    "managedBy": null,
    "name": "Exercise0",
    "properties": {
      "provisioningState": "Succeeded"
    },
    "tags": null,
    "type": "Microsoft.Resources/resourceGroups"
  },
  {
    "id": "/subscriptions/4e494799-323f-48fb-8868-ef7e06217146/resourceGroups/NetworkWatcherRG",
    "location": "westus",
    "managedBy": null,
    "name": "NetworkWatcherRG",
    "properties": {
      "provisioningState": "Succeeded"
    },
    "tags": null,
    "type": "Microsoft.Resources/resourceGroups"
  }
]



# Azure get resources:
from azure.mgmt.network import NetworkManagementClient
from azure.identity import DefaultAzureCredential
from azure.identity import AzureCliCredential
credential = DefaultAzureCredential()
#from azure.mgmt.resource import SubscriptionClient
#subscription_client = SubscriptionClient(credential)
#subscription_id = next(subscription_client.subscriptions.list()).subscription_id
subscription_id = credential.get_token("https://management.azure.com/.default").subscription_id

network_client = NetworkManagementClient(subscription_id=subscription_id, credential=None)
vnets = network_client.virtual_networks.list_all()
print('Vnet:', vnets[0])

# List all resource groups
resource_groups = network_client.resource_groups.list()

for resource_group in resource_groups:
    print('Resource Group:', resource_group.name)
    print('---')

    # List VNets in the current resource group
    vnets = network_client.virtual_networks.list(resource_group.name)

    for vnet in vnets:
        print('VNet Name:', vnet.name)
        print('VNet ID:', vnet.id)
        print('Address Space:', vnet.address_space.address_prefixes)
        print('---')
